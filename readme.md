kvstore_v_1
time:2025.10.10
更新内容：加入hash、红黑树两种数据引擎，以及客户端各种测试样例代码
使用方法：
server：make后，执行./kvstore "此处输入端口号参数"
client：客户端在client文件夹下make后，执行./client_test "server端IP" "server端端口号" "0-4，分别表示使用红黑树引擎循环输入1w条命令，3w，数组1w，hash1w"

kvstore_v_2
time:2025.10.13
更新内容：<持久化功能>
        1.客户端输入SAVE命令，服务端可以将数据存到服务器本地一个文件中
        2.客户端输入LOAD命令，服务端可以将数据从本地一个文件加载出来提供使用
        3.服务端在遇到ctrl^c命令或者被kill掉，将自动执行SAVE命令
        4.服务器在启动时会从指定文件夹中自动加载数据
使用方法：在v1的基础上，客户端可以输入SAVE和LOAD命令手动让服务器进行数据保存和读数据，并且服务器在遇到异常情况时可以自动保护数据，并且在启动服务器时会自动加载数据

kvstore_v_3
time:2025.10.15
更新内容：<内存池>
        1.加入一个内存池，替代系统malloc。
        内存池提供一个大内存的分配方法和小内存的分配和释放方法，其中的空间可以重复使用
        设置一个阈值，需要分配的空间大小超过这个阈值，就会使用内存池的大内存分配方法，未超过就会使用小内存的分配方法

kvstore_v_4
time:2025.10.16
更新内容：<一次性发送并执行多条指令>
        1.用户需要发多条指令时，需要在第一行写入#MULTI_COMMAND，然后一行一条命令，写完所有命令后，在最后另起一行写入#FINISH，
        服务器在收到#MULTI_COMMAND时就会进入多条指令执行函数，multi_command函数中将用户数据按行分割成多个字符串，每一行按照单条指令处理方法执行，
        最后遇到#FINISH时结束。
使用方法：客户端与服务器构建连接后，第一行输入#MULTI_COMMAND，然后一行一条命令，写完所有命令后，在最后另起一行写入#FINISH。即可实现一次性发送并执行多条指令功能。

kvstore_v_5
time:2025.10.16
更新内容：<主从同步功能>
        1.构建一个主服务器与多个从服务器共同工作的功能，
        主服务器创建一个同步接口与从服务器连接通信，当主服务器执行写，删和mod修改命令时，从服务器会收到这些命令并同步执行，以此保持主从服务器库中内容一致
使用方法：主从服务器代码一样，根据执行的参数区别主从服务器，
        主服务器执行命令：./out/kvstore "端口号(与从服务器进行通信的端口号会+1000)"
        从服务器执行命令：./out/kvstore "与客户端通信的端口" "主服务器IP" "主服务器端口(实际会与该端口号的1000进行连接通信)"
        建立连接后，客户端向主服务器发送SET写入命令，可以在从服务器中GET到该数据

性能测试(统一在关闭持久化和主从同步的状态下测试)：

内存测试

一、自定义内存池：

总操作数: 120000
总数据量: 207.11 MB
总耗时: 81.639 秒
操作频率: 1469.88 ops/sec
吞吐量: 2.54 MB/s
平均每次操作耗时: 680.329 微秒

=== 详细内存统计 ===
总池大小: 67108864 bytes (64.00 MB)
总使用量: 27600624 bytes (26.32 MB) [41.13%]

小块内存统计（<= 4 KB）:
  当前块数: 50003
  当前使用: 25937122 bytes (24.74 MB) [38.65%]
  峰值使用: 25937266 bytes (24.74 MB)

大块内存统计（> 4 KB）:
  当前块数: 10002
  当前使用: 8290304000 bytes (7906.25 MB) [12353.52%]
  峰值使用: 8290304000 bytes (7906.25 MB)

分配统计:
  总分配次数: 60005
  空闲块数: 3
  小块分配次数: 80003
  大块分配次数: 20004

二、系统malloc


=== 混合内存测试 性能报告 ===
总操作数: 120000
总数据量: 207.11 MB
总耗时: 7.450 秒
操作频率: 16107.28 ops/sec
吞吐量: 27.80 MB/s
平均每次操作耗时: 62.084 微秒

=== 服务器内存使用情况 ===
=== 详细内存统计（系统 malloc） ===
分配器: system-malloc
当前占用: 8316241122 bytes (7930.99 MB)
峰值占用: 8316241194 bytes (7930.99 MB)
分配次数: 90005
释放次数: 30000

三、jemalloc

=== 混合内存测试 性能报告 ===
总操作数: 120000
总数据量: 207.11 MB
总耗时: 10.923 秒
操作频率: 10985.60 ops/sec
吞吐量: 18.96 MB/s
平均每次操作耗时: 91.028 微秒

=== 服务器内存使用情况 ===
=== 详细内存统计（jemalloc） ===
分配器: jemalloc
【本程序计数】
  当前占用: 8316241122 bytes (7930.99 MB)
  峰值占用: 8316241194 bytes (7930.99 MB)
  分配次数: 90005
  释放次数: 30000
【jemalloc】
  allocated: 8772096160 (8365.72 MB)
  active   : 8772251648 (8365.87 MB)
  resident : 8779927552 (8373.19 MB)
  mapped   : 8786931712 (8379.87 MB)



数据引擎性能测试（传50w条命令）
数组：(小：70.2s，大：305.6s)
红黑树：(小：130.6s，大：220.4s)
hash：(小：135.7s，大：185.7s)
